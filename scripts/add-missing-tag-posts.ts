import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

// 각 태그별 게시글 데이터
const postsByTag = {
  '입주체크': [
    {
      title: '[입주체크] 입주 전 체크리스트 필수 확인사항',
      content: `입주 전에 반드시 확인해야 할 체크리스트를 공유합니다.

1. 수도, 전기, 가스 점검
- 수도꼭지에서 물이 제대로 나오는지 확인
- 전기 콘센트와 스위치 작동 확인
- 가스레인지와 온수기 작동 테스트

2. 벽지, 바닥 상태 점검
- 벽지에 얼룩이나 손상이 없는지 확인
- 바닥에 균열이나 요철이 없는지 점검
- 창문과 문의 개폐 상태 확인

3. 보안 및 안전 점검
- 현관문과 방문의 잠금장치 확인
- 화재경보기 작동 여부 확인
- 비상구와 비상등 위치 파악

4. 계약서와 실제 상태 비교
- 계약서에 명시된 시설물과 실제 상태 비교
- 사진 촬영으로 입주 전 상태 기록

입주 전 체크리스트를 미리 준비하시면 나중에 문제가 생겼을 때 대응하기 훨씬 쉬워집니다.`,
      nickname: '입주체크전문가',
      password: 'check123',
      tags: ['입주체크']
    },
    {
      title: '[입주체크] 하자 발견 시 집주인과의 협의 방법',
      content: `입주 체크 중 하자를 발견했을 때 집주인과 어떻게 협의해야 할까요?

하자 발견 시 대응 절차:

1. 즉시 사진 촬영
- 하자 부위를 여러 각도에서 촬영
- 날짜와 시간이 기록되도록 설정
- 계약서와 함께 보관

2. 집주인에게 통보
- 입주 당일 또는 3일 이내에 통보
- 구두 통보보다는 문자나 이메일로 기록 남기기
- 하자 내용을 구체적으로 명시

3. 수리 비용 협의
- 집주인 부담 vs 임차인 부담 명확히 구분
- 수리 기간과 방법 협의
- 수리 완료 후 재점검 일정 조율

4. 계약서 수정
- 하자 관련 조항 추가
- 수리 비용 부담 주체 명시
- 향후 유사 하자 발생 시 대응 방안

하자 발견은 입주 초기에만 가능한 권리이므로 놓치지 마세요!`,
      nickname: '하자대응전문가',
      password: 'defect123',
      tags: ['입주체크']
    },
    {
      title: '[입주체크] 월세방 입주 전 필수 점검 포인트',
      content: `월세방 입주 전에 꼭 확인해야 할 점검 포인트들을 정리했습니다.

월세방 특화 체크리스트:

1. 기본 시설 점검
- 화장실 배수구 막힘 여부 확인
- 샤워기와 수도꼭지 물압 테스트
- 전기 콘센트 위치와 개수 확인
- 인터넷 선 연결 상태 점검

2. 보안 및 안전
- 현관문과 방문 잠금장치 테스트
- 창문 보안창 상태 확인
- 화재경보기와 소화기 위치 파악
- 비상연락처 확인

3. 주변 환경 점검
- 소음 수준 확인 (낮/밤 시간대)
- 주차 공간과 출입 통로 확인
- 편의시설 접근성 점검
- 대중교통 이용 편의성 확인

4. 계약 조건 재확인
- 보증금과 월세 금액 재확인
- 관리비 포함 여부 확인
- 계약 기간과 갱신 조건 점검
- 퇴실 시 정리비용 확인

월세방은 보통 단기 계약이 많아서 입주 전 점검이 더욱 중요합니다.`,
      nickname: '월세전문가',
      password: 'monthly123',
      tags: ['입주체크']
    }
  ],
  '집주인소통': [
    {
      title: '[집주인소통] 효과적인 집주인과의 소통 방법',
      content: `집주인과의 원활한 소통을 위한 실용적인 팁을 공유합니다.

집주인 소통의 기본 원칙:

1. 정중하고 명확한 소통
- 존댓말 사용과 예의 바른 태도 유지
- 문제 상황을 구체적이고 객관적으로 전달
- 감정적 표현보다는 사실 중심으로 소통

2. 적절한 소통 채널 선택
- 급한 문제: 전화나 문자
- 일반적인 문의: 이메일이나 카카오톡
- 중요한 사안: 대면 미팅

3. 기록 남기기
- 모든 소통 내용을 기록으로 남기기
- 합의사항은 문자나 이메일로 재확인
- 분쟁 시 증거자료로 활용 가능

4. 상호 존중
- 집주인의 입장도 이해하려고 노력
- 합리적인 요구와 제안만 하기
- 계약 조건 내에서의 소통 유지

좋은 집주인과의 관계는 서로를 존중하는 마음에서 시작됩니다.`,
      nickname: '소통전문가',
      password: 'comm123',
      tags: ['집주인소통']
    },
    {
      title: '[집주인소통] 월세 인상 요구에 대한 대응 방법',
      content: `집주인이 월세 인상을 요구할 때 어떻게 대응해야 할까요?

월세 인상 요구 대응 전략:

1. 계약서 재확인
- 현재 계약 기간과 월세 금액 확인
- 계약 기간 중 월세 인상 금지 조항 확인
- 갱신 시 월세 인상 상한선 확인

2. 시장 상황 조사
- 동네 월세 시세 조사
- 유사한 조건의 방 월세 비교
- 인상 요구가 합리적인지 판단

3. 협상 전략 수립
- 현재 계약 조건의 장점 강조
- 장기 거주 의지 표현
- 대안 제시 (관리비 분담, 계약 연장 등)

4. 합리적 대안 제시
- 단계적 인상 제안
- 시설 개선과 연계한 인상
- 계약 조건 개선과 함께 인상

5. 법적 근거 활용
- 주택임대차보호법 관련 조항 참고
- 월세 인상 상한선 확인
- 필요시 주민센터 상담

무리한 월세 인상 요구에는 합리적으로 대응하세요!`,
      nickname: '월세협상가',
      password: 'negotiate123',
      tags: ['집주인소통']
    },
    {
      title: '[집주인소통] 하자 신고와 수리 요청 시 소통법',
      content: `집에서 하자가 발생했을 때 집주인에게 어떻게 신고하고 요청해야 할까요?

하자 신고 및 수리 요청 가이드:

1. 즉시 신고하기
- 하자 발견 즉시 집주인에게 연락
- 사진과 함께 구체적인 상황 설명
- 응급상황은 전화로, 일반 하자는 문자로

2. 신고 내용 작성법
- 하자 발생 일시와 위치 명시
- 하자 원인 추정 (가능한 경우)
- 예상 수리 비용과 기간 제시
- 수리 시 주의사항 안내

3. 수리 과정 관리
- 수리업체와 직접 연락하지 말고 집주인을 통해
- 수리 일정과 방법 사전 협의
- 수리 중 불편사항 즉시 전달
- 수리 완료 후 점검 요청

4. 비용 부담 협의
- 집주인 부담 vs 임차인 부담 구분
- 수리 비용 사전 협의
- 영수증과 견적서 보관
- 향후 유사 하자 방지 방안 논의

5. 기록 관리
- 모든 소통 내용 기록 보관
- 수리 전후 사진 촬영
- 합의사항 문서화

효과적인 소통으로 빠른 하자 해결을 도모하세요!`,
      nickname: '하자신고전문가',
      password: 'repair123',
      tags: ['집주인소통']
    }
  ],
  '법적권리': [
    {
      title: '[법적권리] 임차인의 기본 권리와 보호받을 수 있는 내용',
      content: `임차인으로서 알아야 할 기본적인 법적 권리들을 정리했습니다.

임차인의 주요 법적 권리:

1. 거주권 보호
- 계약 기간 중 퇴거 강요 금지
- 정당한 사유 없는 계약 해지 방지
- 갱신 거부 시 보상금 지급

2. 월세 상한제
- 월세 인상 상한선 (5% 또는 소비자물가상승률)
- 갱신 시 월세 인상 제한
- 무리한 월세 인상 요구 거부 권리

3. 보증금 반환권
- 계약 종료 시 보증금 전액 반환
- 정당한 손해배상 사유가 없는 경우
- 보증금 반환 거부 시 법적 대응 가능

4. 하자 수리 요구권
- 임대인의 시설물 수리 의무
- 하자로 인한 손해 배상 청구권
- 수리 거부 시 계약 해지 가능

5. 개인정보 보호권
- 과도한 개인정보 수집 거부
- 개인정보 처리 현황 통지 요구권
- 개인정보 보호법 적용

6. 소음 등 생활방해 금지
- 과도한 소음 발생 시 제재 요구
- 생활방해 행위 중단 요구권
- 피해 발생 시 손해배상 청구

법적 권리를 알고 적극적으로 행사하세요!`,
      nickname: '법률전문가',
      password: 'legal123',
      tags: ['법적권리']
    },
    {
      title: '[법적권리] 계약 해지 시 임차인이 받을 수 있는 보상',
      content: `임대인이 계약을 해지할 때 임차인이 받을 수 있는 보상에 대해 알아보겠습니다.

계약 해지 시 임차인 보상:

1. 갱신거부보상금
- 계약 갱신 거부 시 지급
- 보증금의 5% 또는 월세의 2배 중 높은 금액
- 정당한 사유 없는 갱신 거부 시 적용

2. 퇴거보상금
- 계약 기간 중 퇴거 요구 시 지급
- 남은 계약 기간에 따른 월세 상당액
- 정당한 사유 없는 퇴거 요구 시 적용

3. 이사비용 보상
- 갱신 거부나 퇴거 요구로 인한 이사비용
- 실제 이사비용 증빙 필요
- 합리적인 범위 내에서 지급

4. 정신적 피해보상
- 계약 해지로 인한 정신적 피해
- 구체적인 피해 증명 필요
- 일반적으로 제한적 적용

5. 보상금 지급 거부 시 대응
- 주민센터 상담 및 조정 신청
- 법원 소송 제기 가능
- 강제집행 신청 가능

6. 보상금 계산 방법
- 갱신거부보상금: 보증금 × 5% 또는 월세 × 2
- 퇴거보상금: 월세 × 남은 계약 개월수
- 이사비용: 실제 이사비용 증빙

정당한 보상을 받기 위해 법적 권리를 적극 행사하세요!`,
      nickname: '보상전문가',
      password: 'compensation123',
      tags: ['법적권리']
    },
    {
      title: '[법적권리] 월세 연체 시 임차인의 권리와 의무',
      content: `월세 연체 상황에서 임차인이 알아야 할 권리와 의무를 정리했습니다.

월세 연체 시 임차인의 권리와 의무:

1. 연체 시 임차인 의무
- 연체 사실을 즉시 집주인에게 통보
- 연체 사유와 해결 방안 제시
- 가능한 빠른 시일 내 납부 계획 수립

2. 연체료 관련 권리
- 연체료는 월세의 3% 이내로 제한
- 과도한 연체료 요구 거부 가능
- 연체료 계산 방법 확인 요구

3. 계약 해지 방지권
- 단순 연체로는 계약 해지 불가
- 2개월 이상 연체 시에만 해지 가능
- 해지 통고 후 30일의 유예 기간

4. 보증금 공제 제한
- 연체료는 보증금에서 공제 불가
- 월세만 보증금에서 공제 가능
- 보증금 공제 시 사전 통보 의무

5. 법적 대응 방법
- 부당한 계약 해지 시 법원 소송
- 연체료 과다 청구 시 조정 신청
- 강제퇴거 시 불법퇴거 신고

6. 연체 해결 방안
- 부분 납부로 연체 기간 단축
- 이자 없는 분할 납부 협의
- 사회복지기관 지원 신청

연체 상황에서도 법적 권리를 알고 적극 대응하세요!`,
      nickname: '연체전문가',
      password: 'overdue123',
      tags: ['법적권리']
    }
  ],
  '안전수칙': [
    {
      title: '[안전수칙] 월세방 화재 안전 수칙과 대비 방법',
      content: `월세방에서 화재 안전을 위한 필수 수칙들을 정리했습니다.

월세방 화재 안전 수칙:

1. 화재 예방 기본 수칙
- 전기 콘센트 과부하 방지
- 가스레인지 사용 후 가스 밸브 확인
- 담배꽁초 완전 소화 후 처리
- 화기 취급 시 주의사항 준수

2. 화재 경보기 관리
- 화재 경보기 작동 상태 정기 점검
- 배터리 교체 시기 확인
- 경보기 주변 장애물 제거
- 경보음 확인 및 대응 방법 숙지

3. 비상구와 대피로 확인
- 비상구 위치와 개방 방법 숙지
- 대피로에 장애물 배치 금지
- 비상등과 유도등 위치 확인
- 대피 시 필요한 물품 준비

4. 소화기 사용법
- 소화기 위치와 사용법 숙지
- 소화기 유효기간 정기 확인
- 소화기 사용 시 주의사항
- 소화기 사용 후 교체 신청

5. 화재 발생 시 대응
- 즉시 119 신고
- 안전한 곳으로 대피 우선
- 연기 발생 시 낮은 자세로 이동
- 문을 열기 전 손잡이 온도 확인

6. 화재 보험 가입
- 화재보험 가입 여부 확인
- 보험 가입 시 보상 범위 확인
- 화재 발생 시 보험 신고 절차

안전한 거주를 위해 화재 안전 수칙을 반드시 지키세요!`,
      nickname: '화재안전전문가',
      password: 'fire123',
      tags: ['안전수칙']
    },
    {
      title: '[안전수칙] 월세방 도난 방지와 보안 강화 방법',
      content: `월세방에서 도난을 방지하고 보안을 강화하는 방법을 알려드립니다.

월세방 보안 강화 방법:

1. 현관문 보안 강화
- 이중 잠금장치 설치
- 도어락 교체 및 보안 강화
- 현관문 카메라 설치 고려
- 외출 시 반드시 문 잠그기

2. 창문 보안 관리
- 창문 잠금장치 점검 및 보완
- 보안창 설치 고려
- 창문 근처에 귀중품 배치 금지
- 외출 시 창문 완전 폐쇄

3. 개인 소지품 관리
- 현금과 귀중품은 은행 보관
- 중요한 서류는 안전한 곳에 보관
- 외출 시 귀중품은 숨겨진 곳에 보관
- 소지품 목록 작성 및 보관

4. 이웃과의 관계
- 이웃과 좋은 관계 유지
- 서로 보안에 관심 갖기
- 의심스러운 사람 발견 시 신고
- 공동 보안 시스템 구축

5. 보안 시스템 활용
- 홈보안 시스템 설치 고려
- 스마트폰 연동 보안 앱 활용
- 보안 업체 서비스 이용
- 보험 가입으로 피해 최소화

6. 외출 시 주의사항
- 외출 시간을 불규칙하게 하기
- 외출 시 조명 타이머 활용
- 신문물과 우유통 정리
- 외출 사실을 SNS에 공개 금지

보안 의식을 높여 안전한 거주 환경을 만들어가세요!`,
      nickname: '보안전문가',
      password: 'security123',
      tags: ['안전수칙']
    },
    {
      title: '[안전수칙] 월세방 가스 안전 수칙과 점검 방법',
      content: `월세방에서 가스 안전을 위한 필수 수칙과 점검 방법을 정리했습니다.

월세방 가스 안전 수칙:

1. 가스 사용 기본 수칙
- 가스레인지 사용 후 반드시 가스 밸브 차단
- 가스레인지 주변에 가연성 물질 배치 금지
- 가스레인지 사용 중 외출 금지
- 가스 냄새 감지 시 즉시 환기

2. 가스 누출 점검
- 가스 밸브와 호스 연결 상태 정기 점검
- 가스 호스 교체 주기 확인 (5년)
- 가스 누출 경보기 작동 상태 점검
- 가스 냄새 감지 시 즉시 가스 공급 중단

3. 가스레인지 관리
- 가스레인지 청소 정기적으로 실시
- 가스레인지 점화 불량 시 즉시 수리
- 가스레인지 주변 청결 상태 유지
- 가스레인지 사용법 숙지

4. 환기 시스템 관리
- 가스 사용 시 반드시 환기 실시
- 환기팬 작동 상태 정기 점검
- 환기구 막힘 여부 확인
- 실내 공기질 관리

5. 가스 사고 대응
- 가스 냄새 감지 시 즉시 가스 차단
- 전기 스위치나 전자기기 조작 금지
- 즉시 환기 및 대피
- 119 신고 및 가스 공급업체 연락

6. 정기 점검 및 관리
- 가스 시설 정기 점검 신청
- 가스 공급업체와 연락처 보관
- 가스 사용법 교육 이수
- 가스 보험 가입 고려

가스 안전 수칙을 지켜 안전한 생활을 하세요!`,
      nickname: '가스안전전문가',
      password: 'gas123',
      tags: ['안전수칙']
    }
  ],
  '부동산': [
    {
      title: '[부동산] 월세방 구할 때 체크해야 할 부동산 정보',
      content: `월세방을 구할 때 알아야 할 부동산 관련 정보들을 정리했습니다.

월세방 구할 때 체크 포인트:

1. 부동산 기본 정보
- 건물 연도와 구조 확인
- 건물 소유권 상태 확인
- 건물 관리 상태 점검
- 주변 개발 계획 조사

2. 계약 관련 정보
- 임대인과 실제 소유자 일치 여부
- 계약서 내용 상세 검토
- 보증금과 월세 시세 비교
- 계약 기간과 갱신 조건 확인

3. 법적 상태 확인
- 건물 등기부등본 확인
- 임대차 계약서 등기 여부
- 건물 하자 이력 조사
- 분쟁 이력 확인

4. 주변 환경 조사
- 교통편 접근성 확인
- 편의시설과 상업시설 분포
- 교육시설과 의료시설 접근성
- 주변 소음과 환경 상태

5. 투자 가치 평가
- 지역 발전 전망 조사
- 부동산 가격 상승 가능성
- 임대 수익률 계산
- 향후 매각 가능성

6. 리스크 요소 점검
- 자연재해 위험 지역 여부
- 도시계획 변경 가능성
- 대규모 개발 사업 영향
- 교통 인프라 변화 계획

신중한 검토로 좋은 월세방을 찾으세요!`,
      nickname: '부동산전문가',
      password: 'realestate123',
      tags: ['부동산']
    },
    {
      title: '[부동산] 월세방 투자 시 고려해야 할 요소들',
      content: `월세방 투자를 고려할 때 알아야 할 요소들을 정리했습니다.

월세방 투자 고려 요소:

1. 수익성 분석
- 월세 수익률 계산 (월세 ÷ 매입가 × 12)
- 보증금 수익률 고려
- 공실 위험도 평가
- 관리비와 세금 고려

2. 위치 조건
- 교통 접근성과 편의성
- 상업지구와 주거지구 구분
- 인구 유입과 유출 추이
- 지역 발전 계획 확인

3. 건물 조건
- 건물 연도와 내구성
- 시설물 상태와 관리 수준
- 보안과 안전 시설
- 주차 공간과 편의시설

4. 시장 상황
- 지역 월세 시세 동향
- 공급과 수요 균형
- 경쟁 매물 현황
- 시장 전망과 트렌드

5. 법적 리스크
- 임대차보호법 영향
- 월세 상한제 적용
- 갱신 거부 보상금
- 퇴거 보상금 부담

6. 관리 부담
- 임차인 관리 업무
- 시설물 유지보수
- 분쟁 해결 업무
- 세금 신고와 관리

신중한 분석으로 안정적인 투자를 하세요!`,
      nickname: '투자분석가',
      password: 'investment123',
      tags: ['부동산']
    },
    {
      title: '[부동산] 월세방 매매 시 주의사항과 절차',
      content: `월세방을 매매할 때 알아야 할 주의사항과 절차를 정리했습니다.

월세방 매매 시 주의사항:

1. 매매 전 준비사항
- 건물 등기부등본 확인
- 임대차 계약서 현황 파악
- 건물 하자 이력 조사
- 주변 시세 조사

2. 임차인 관련 사항
- 기존 임차인 계약 조건 확인
- 임차인 퇴거 의사 파악
- 갱신 거부 보상금 부담
- 퇴거 보상금 부담

3. 법적 검토사항
- 임대차보호법 적용 여부
- 월세 상한제 영향
- 계약 해지 시 보상금
- 법적 분쟁 가능성

4. 매매 계약 절차
- 부동산 중개업체 선정
- 매매 계약서 작성
- 계약금과 중도금 지급
- 잔금 지급과 인도

5. 등기 절차
- 소유권 이전 등기
- 임대차 계약 등기
- 등기비용과 세금 계산
- 등기 완료 확인

6. 매매 후 관리
- 임차인과의 관계 정리
- 관리비와 세금 처리
- 시설물 점검과 수리
- 향후 관리 계획 수립

신중한 검토로 성공적인 매매를 하세요!`,
      nickname: '매매전문가',
      password: 'sale123',
      tags: ['부동산']
    }
  ],
  '투자': [
    {
      title: '[투자] 월세방 투자로 안정적인 수익 창출하는 방법',
      content: `월세방 투자로 안정적인 수익을 창출하는 방법을 알려드립니다.

월세방 투자 수익 창출 전략:

1. 수익률 최적화
- 월세 수익률 5% 이상 목표
- 보증금 수익률도 함께 고려
- 공실률 최소화 전략 수립
- 관리비와 세금 최적화

2. 위치 선정 전략
- 교통 접근성이 좋은 지역
- 대학가나 직장가 인근
- 상업지구와 주거지구 경계
- 개발 계획이 있는 지역

3. 건물 선정 기준
- 건물 연도 10년 이내
- 관리 상태가 양호한 건물
- 보안과 안전 시설 완비
- 주차 공간 확보

4. 임차인 관리
- 신용도가 좋은 임차인 선별
- 장기 거주 의향자 우선
- 계약 조건 명확히 설정
- 정기적인 소통 유지

5. 리스크 관리
- 분산 투자로 리스크 분산
- 보험 가입으로 손실 최소화
- 법적 분쟁 대비 방안
- 시장 변화 대응 전략

6. 세금 최적화
- 소득세 신고 최적화
- 부가가치세 고려
- 양도소득세 계획
- 세무 전문가 상담

체계적인 관리로 안정적인 수익을 만들어가세요!`,
      nickname: '수익전문가',
      password: 'profit123',
      tags: ['투자']
    },
    {
      title: '[투자] 월세방 투자 시 자금 조달 방법과 대출 활용',
      content: `월세방 투자 시 자금 조달 방법과 대출 활용 전략을 정리했습니다.

월세방 투자 자금 조달 방법:

1. 전통적인 대출 방법
- 주택담보대출 활용
- 신용대출과 담보대출 조합
- 대출 한도와 금리 비교
- 대출 조건 최적화

2. 부동산 관련 대출
- 부동산 담보대출
- 임대사업자 대출
- 부동산 개발 대출
- 리츠 관련 대출

3. 자금 조달 전략
- 레버리지 효과 활용
- 자금 비용 최소화
- 현금 흐름 관리
- 리스크 분산 투자

4. 대출 조건 비교
- 금리와 수수료 비교
- 대출 기간과 상환 방법
- 담보 조건과 한도
- 대출 승인 가능성

5. 현금 흐름 관리
- 월세 수입과 대출 상환
- 관리비와 세금 고려
- 공실 기간 대비 자금
- 비상 자금 확보

6. 투자 수익성 계산
- 총 투자 수익률 계산
- 현금 투자 수익률 계산
- 레버리지 효과 분석
- 손익분기점 계산

신중한 자금 조달로 성공적인 투자를 하세요!`,
      nickname: '자금전문가',
      password: 'funding123',
      tags: ['투자']
    },
    {
      title: '[투자] 월세방 투자 포트폴리오 구성과 관리 방법',
      content: `월세방 투자 포트폴리오 구성과 관리 방법을 알려드립니다.

월세방 투자 포트폴리오 관리:

1. 포트폴리오 구성 원칙
- 지역별 분산 투자
- 건물 유형별 분산
- 가격대별 분산 투자
- 수익률별 균형 구성

2. 리스크 분산 전략
- 지역 리스크 분산
- 건물 리스크 분산
- 임차인 리스크 분산
- 시장 리스크 분산

3. 수익성 관리
- 포트폴리오 전체 수익률 관리
- 개별 투자 수익률 모니터링
- 수익률 개선 방안 수립
- 비수익 투자 정리

4. 현금 흐름 관리
- 월별 현금 흐름 예측
- 공실 기간 대비 자금
- 대출 상환과 수입 균형
- 비상 자금 관리

5. 포트폴리오 평가
- 정기적인 포트폴리오 평가
- 시장 가치 재평가
- 투자 성과 분석
- 개선 방안 도출

6. 포트폴리오 조정
- 시장 상황에 따른 조정
- 수익성 기준 포트폴리오 재구성
- 새로운 투자 기회 평가
- 비효율 투자 정리

체계적인 포트폴리오 관리로 안정적인 수익을 만들어가세요!`,
      nickname: '포트폴리오전문가',
      password: 'portfolio123',
      tags: ['투자']
    }
  ],
  '정책': [
    {
      title: '[정책] 주택임대차보호법 주요 내용과 임차인 권리',
      content: `주택임대차보호법의 주요 내용과 임차인이 알아야 할 권리를 정리했습니다.

주택임대차보호법 주요 내용:

1. 계약 기간 보장
- 최소 계약 기간 2년 보장
- 갱신 거부 시 정당한 사유 필요
- 갱신 거부 보상금 지급 의무
- 퇴거 보상금 지급 의무

2. 월세 상한제
- 월세 인상 상한선 설정 (5% 또는 소비자물가상승률)
- 갱신 시 월세 인상 제한
- 무리한 월세 인상 요구 금지
- 월세 상한제 위반 시 처벌

3. 보증금 보호
- 보증금 반환 의무 명시
- 정당한 손해배상 사유가 없는 경우 전액 반환
- 보증금 반환 거부 시 법적 대응 가능
- 보증금 반환 보증보험 가입 의무

4. 계약서 작성 의무
- 표준 임대차 계약서 사용
- 계약 조건 명시 의무
- 계약서 사본 제공 의무
- 계약 조건 변경 시 합의 필요

5. 하자 수리 의무
- 임대인의 시설물 수리 의무
- 하자로 인한 손해 배상 책임
- 수리 거부 시 계약 해지 가능
- 하자 수리 비용 부담 명시

6. 분쟁 해결
- 주민센터 상담 및 조정 신청
- 법원 소송 제기 가능
- 강제집행 신청 가능
- 분쟁 해결 비용 지원

법적 권리를 알고 적극적으로 행사하세요!`,
      nickname: '법정책전문가',
      password: 'policy123',
      tags: ['정책']
    },
    {
      title: '[정책] 월세 상한제 정책의 영향과 대응 방안',
      content: `월세 상한제 정책이 임차인과 임대인에게 미치는 영향과 대응 방안을 정리했습니다.

월세 상한제 정책 영향 분석:

1. 월세 상한제 주요 내용
- 월세 인상 상한선: 5% 또는 소비자물가상승률
- 갱신 시 월세 인상 제한
- 상한제 적용 대상 확대
- 위반 시 과태료 부과

2. 임차인에게 미치는 영향
- 월세 부담 완화 효과
- 갱신 시 월세 인상 제한
- 계약 갱신 거부 위험 증가
- 보증금 인상 가능성

3. 임대인에게 미치는 영향
- 월세 수익성 제한
- 갱신 거부 보상금 부담 증가
- 투자 의욕 저하 가능성
- 시장 공급 감소 우려

4. 시장에 미치는 영향
- 월세 상승률 둔화
- 공급과 수요 불균형 가능성
- 시장 가격 형성 왜곡
- 투자 자금 유입 감소

5. 대응 방안
- 계약 조건 사전 협의
- 보증금과 관리비 조정
- 시설 개선과 연계한 협상
- 법적 분쟁 대비 방안

6. 정책 개선 방향
- 공급 확대 정책 병행
- 임대인 지원 정책 강화
- 시장 안정화 방안 마련
- 정책 효과 모니터링

정책 변화에 적응하며 합리적으로 대응하세요!`,
      nickname: '정책분석가',
      password: 'analysis123',
      tags: ['정책']
    },
    {
      title: '[정책] 주거복지 정책과 월세 지원 제도',
      content: `주거복지 정책과 월세 지원 제도에 대해 알아보겠습니다.

주거복지 정책과 지원 제도:

1. 주거급여 제도
- 소득 기준에 따른 월세 지원
- 보증금 대출 지원
- 이사비용 지원
- 주거비 부담 완화

2. 청년 주거 지원
- 청년 주거급여
- 청년 보증금 대출
- 청년 주거비 지원
- 청년 전용 주거시설

3. 신혼부부 지원
- 신혼부부 주거급여
- 신혼부부 보증금 대출
- 신혼부부 주거비 지원
- 신혼부부 전용 주거시설

4. 저소득층 지원
- 기초생활수급자 주거급여
- 차상위계층 주거급여
- 주거비 지원
- 보증금 대출 지원

5. 지원 신청 방법
- 주민센터 방문 신청
- 온라인 신청 시스템
- 필요 서류 준비
- 신청 자격 확인

6. 지원 내용
- 월세 지원 (지역별 차등)
- 보증금 대출 (무이자 또는 저금리)
- 이사비용 지원
- 주거비 상한선 설정

주거복지 정책을 적극 활용하여 주거 부담을 줄이세요!`,
      nickname: '복지전문가',
      password: 'welfare123',
      tags: ['정책']
    }
  ]
}

// 댓글 생성 함수
function generateComments(postTitle: string, postContent: string, count: number): Array<{
  content: string
  author: string
  upvotes: number
  downvotes: number
}> {
  const comments: Array<{
    content: string
    author: string
    upvotes: number
    downvotes: number
  }> = []

  // 게시글 주제 파악
  function getPostTopic(title: string, content: string): string {
    const text = (title + ' ' + content).toLowerCase()
    if (text.includes('입주') || text.includes('체크') || text.includes('점검')) return 'movein'
    if (text.includes('집주인') || text.includes('소통') || text.includes('협의')) return 'communication'
    if (text.includes('법적') || text.includes('권리') || text.includes('보상')) return 'legal'
    if (text.includes('안전') || text.includes('화재') || text.includes('보안')) return 'safety'
    if (text.includes('부동산') || text.includes('투자') || text.includes('매매')) return 'realestate'
    if (text.includes('정책') || text.includes('상한제') || text.includes('복지')) return 'policy'
    return 'general'
  }

  // 주제별 관련 댓글
  function getRelevantComments(topic: string): Array<{
    content: string
    author: string
    upvotes: number
    downvotes: number
  }> {
    const commentMap: Record<string, Array<{
      content: string
      author: string
      upvotes: number
      downvotes: number
    }>> = {
      movein: [
        { content: "입주 전 체크리스트 정말 중요해요! 저도 놓친 부분이 있었는데 도움됐습니다", author: "입주준비생", upvotes: 3, downvotes: 0 },
        { content: "사진 촬영하는 거 정말 좋은 팁이네요. 나중에 분쟁 시 증거로 활용할 수 있겠어요", author: "체크리스트러버", upvotes: 2, downvotes: 0 },
        { content: "하자 발견 시 집주인과의 협의 방법이 자세해서 도움됐어요", author: "하자대응러", upvotes: 1, downvotes: 0 }
      ],
      communication: [
        { content: "집주인과의 소통이 정말 중요하네요. 정중하게 대화하는 게 핵심인 것 같아요", author: "소통마스터", upvotes: 4, downvotes: 0 },
        { content: "월세 인상 요구에 대한 대응 방법이 실용적이에요. 한번 써봐야겠어요", author: "협상러버", upvotes: 2, downvotes: 0 },
        { content: "기록 남기는 거 정말 중요하네요. 나중에 분쟁 시 증거가 될 수 있어요", author: "기록전문가", upvotes: 3, downvotes: 0 }
      ],
      legal: [
        { content: "임차인의 법적 권리를 제대로 알고 있어야겠네요. 정말 유용한 정보입니다", author: "법률러버", upvotes: 5, downvotes: 0 },
        { content: "보상금 받을 수 있는 경우들을 자세히 알려주셔서 감사해요", author: "보상받기", upvotes: 2, downvotes: 0 },
        { content: "월세 연체 시에도 권리가 있다는 걸 처음 알았어요", author: "연체러버", upvotes: 1, downvotes: 0 }
      ],
      safety: [
        { content: "화재 안전 수칙이 정말 중요하네요. 안전한 거주를 위해 꼭 지켜야겠어요", author: "안전러버", upvotes: 4, downvotes: 0 },
        { content: "도난 방지 방법들이 실용적이에요. 보안 의식을 높여야겠어요", author: "보안마스터", upvotes: 3, downvotes: 0 },
        { content: "가스 안전 수칙도 정말 중요하네요. 정기 점검을 해야겠어요", author: "가스안전러", upvotes: 2, downvotes: 0 }
      ],
      realestate: [
        { content: "부동산 정보 체크 포인트가 정말 유용해요. 신중하게 검토해야겠어요", author: "부동산러버", upvotes: 3, downvotes: 0 },
        { content: "투자 시 고려 요소들이 자세해서 도움됐어요", author: "투자준비생", upvotes: 2, downvotes: 0 },
        { content: "매매 시 주의사항이 정말 중요하네요. 신중하게 접근해야겠어요", author: "매매러버", upvotes: 1, downvotes: 0 }
      ],
      policy: [
        { content: "주택임대차보호법 내용이 정리되어 있어서 이해하기 쉬워요", author: "법정책러버", upvotes: 4, downvotes: 0 },
        { content: "월세 상한제 정책의 영향을 잘 분석해주셨네요", author: "정책분석러", upvotes: 2, downvotes: 0 },
        { content: "주거복지 정책을 적극 활용해야겠어요", author: "복지러버", upvotes: 3, downvotes: 0 }
      ],
      general: [
        { content: "좋은 정보 감사해요! 도움이 많이 됐습니다", author: "정보러버", upvotes: 2, downvotes: 0 },
        { content: "실용적인 팁들이 많아서 유용해요", author: "팁러버", upvotes: 1, downvotes: 0 },
        { content: "자세한 설명 덕분에 이해하기 쉬웠어요", author: "설명러버", upvotes: 1, downvotes: 0 }
      ]
    }
    return commentMap[topic] || commentMap.general
  }

  const topic = getPostTopic(postTitle, postContent)
  const relevantComments = getRelevantComments(topic)
  
  // 관련 댓글에서 랜덤하게 선택 (최대 3개)
  const selectedComments = relevantComments
    .sort(() => Math.random() - 0.5)
    .slice(0, Math.min(count, 3))

  return selectedComments
}

async function addMissingTagPosts() {
  try {
    console.log('누락된 태그별 게시글 추가 시작...')

    for (const [tagName, posts] of Object.entries(postsByTag)) {
      console.log(`\n${tagName} 태그 게시글 추가 중...`)

      for (const postData of posts) {
        // 태그 찾기 또는 생성
        let tag = await prisma.tag.findUnique({
          where: { name: tagName }
        })

        if (!tag) {
          tag = await prisma.tag.create({
            data: { name: tagName }
          })
          console.log(`새 태그 생성: ${tagName}`)
        }

        // slug 생성
        const slug = postData.title
          .toLowerCase()
          .replace(/[^a-z0-9가-힣\s]/g, '')
          .replace(/\s+/g, '-')
          .substring(0, 50) + '-' + Date.now()

        // 게시글 생성
        const post = await prisma.post.create({
          data: {
            title: postData.title,
            slug: slug,
            content: postData.content,
            nickname: postData.nickname,
            password: postData.password,
            upvotes: Math.floor(Math.random() * 20) + 1,
            downvotes: Math.floor(Math.random() * 5),
            views: Math.floor(Math.random() * 100) + 10,
            commentCount: 0
          }
        })

        // 태그 연결
        await prisma.postTag.create({
          data: {
            postId: post.id,
            tagId: tag.id
          }
        })

        // 관련 댓글 생성 (1-3개)
        const commentCount = Math.floor(Math.random() * 3) + 1
        const comments = generateComments(postData.title, postData.content, commentCount)

        for (const commentData of comments) {
          await prisma.comment.create({
            data: {
              content: commentData.content,
              author: commentData.author,
              upvotes: commentData.upvotes,
              downvotes: commentData.downvotes,
              postId: post.id
            }
          })
        }

        // 게시글의 댓글 수 업데이트
        await prisma.post.update({
          where: { id: post.id },
          data: { 
            commentCount: comments.length
          }
        })

        console.log(`- ${postData.title} (댓글 ${comments.length}개)`)
      }
    }

    console.log('\n✅ 모든 누락된 태그별 게시글 추가 완료!')
    
    // 태그별 게시글 수 확인
    const tagCounts = await prisma.tag.findMany({
      include: {
        _count: {
          select: { posts: true }
        }
      },
      orderBy: { name: 'asc' }
    })

    console.log('\n📊 태그별 게시글 수:')
    tagCounts.forEach(tag => {
      console.log(`${tag.name}: ${tag._count.posts}개`)
    })

  } catch (error) {
    console.error('❌ 오류 발생:', error)
  } finally {
    await prisma.$disconnect()
  }
}

addMissingTagPosts()
